---
title: "[深度优化] 拯救小内存 VPS：一键开启 Swap 虚拟内存"
pubDatetime: 2026-01-04T16:52:00.000+08:00
description: "内存不足导致 VPS 死机？本文教你使用 Swap 分区，通过简单的脚本将硬盘空间划为虚拟内存，给服务器续命。"
tags:
  - VPS
  - Optimization
  - Linux
---

很多高性价比的 VPS（如 RackNerd、ColoCrossing）内存通常只有 512MB 或 1GB。这种配置跑个节点还行，但如果想运行数据库、Docker 或者编译环境，系统经常会因为 OOM (内存溢出) 而强制杀进程，甚至直接死机。

解决方法是配置 Swap (交换分区)：把一部分硬盘空间划出来当内存用。虽然速度不如真内存，但能保证系统**“慢一点，但绝不死机”**。

### 第一步：检查内存状态

在操作前，先看看你现在的内存情况。在 SSH 中输入：

    free -h

![检查当前 Swap 状态](/assets/six.png)

*(如图所示，`Swap` 这一行显示了当前的虚拟内存大小。如果这里全是 `0B`，说明你在公路上裸奔，没有任何缓冲。)*

### 第二步：一键开启 Swap

这里推荐使用 Jrohy 大佬的脚本（或 BlueSkyXN 工具箱），它能自动识别系统并配置最优参数。

在 SSH 中输入以下命令（复制粘贴并回车）：

    wget -O box.sh https://raw.githubusercontent.com/BlueSkyXN/SKY-BOX/main/box.sh && chmod +x box.sh && clear && ./box.sh

### 第三步：配置大小

脚本运行后会出现菜单：

1.  输入数字 **18** (SWAP 一键安装/卸载)。
2.  脚本会进入 Swap 专属界面（如下图）。
3.  输入 **1** 选择“添加 swap”。
4.  脚本会问你需要多大，建议设置为物理内存的 2 倍：
    * 如果你是 512M 内存，输入 `1024`。
    * 如果你是 1G 内存，输入 `2048`。

![执行 Swap 添加脚本](/assets/seven.png)

*(可以看到，脚本会自动创建 Swap 文件并挂载，整个过程非常快。)*

### 第四步：验证结果

等待进度条跑完后，再次输入命令验证：

    free -h

![验证 Swap 扩容结果](/assets/eight.png)

恭喜你！从上图可以看到，Swap 总量已经增加了（比如原本 1G，加了 2G 后变成了 3G）。现在你的 VPS 瞬间“扩容”成功，再也不怕爆内存了。
